(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{74963:function(e,r,t){Promise.resolve().then(t.bind(t,5415)),Promise.resolve().then(t.bind(t,82591)),Promise.resolve().then(t.bind(t,7087)),Promise.resolve().then(t.bind(t,23583)),Promise.resolve().then(t.bind(t,71908))},76520:function(e,r,t){"use strict";var n=t(22988),o=t(23950),i=t(2265),s=t(44839),a=t(26574),l=t(48024),c=t(69281),u=t(48563),d=t(8344),h=t(57437);let f=["className","raised"],v=e=>{let{classes:r}=e;return(0,a.Z)({root:["root"]},d.y,r)},p=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})(()=>({overflow:"hidden"})),m=i.forwardRef(function(e,r){let t=(0,c.Z)({props:e,name:"MuiCard"}),{className:i,raised:a=!1}=t,l=(0,o.Z)(t,f),u=(0,n.Z)({},t,{raised:a}),d=v(u);return(0,h.jsx)(p,(0,n.Z)({className:(0,s.Z)(d.root,i),elevation:a?8:void 0,ref:r,ownerState:u},l))});r.Z=m},8344:function(e,r,t){"use strict";t.d(r,{y:function(){return i}});var n=t(46763),o=t(68641);function i(e){return(0,o.ZP)("MuiCard",e)}let s=(0,n.Z)("MuiCard",["root"]);r.Z=s},12833:function(e,r,t){"use strict";t.d(r,{j:function(){return o}});var n=t(38472);r.Z=n.Z.create({baseURL:"https://learnx-spring-app-86563bbf71fb.herokuapp.com/api/v1",headers:{"Content-Type":"application/json"}});let o=n.Z.create({baseURL:"https://learnx-spring-app-86563bbf71fb.herokuapp.com/api/v1",withCredentials:!0,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let r=localStorage.getItem("access_token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e instanceof Error?e:Error(String(e))))},23583:function(e,r,t){"use strict";t.d(r,{AccountDetailsForm:function(){return p}});var n=t(57437);t(2265);var o=t(75519),i=t(76520),s=t(12204),a=t(55205),l=t(20248),c=t(14595),u=t(28549),d=t(56065),h=t(866),f=t(50698),v=t(68692);function p(){let{user:e}=(0,v.a)();return(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault()},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(l.Z,{subheader:"The information can be edited",title:"Profile"}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(a.Z,{children:(0,n.jsxs)(f.Z,{container:!0,spacing:3,children:[(0,n.jsx)(f.Z,{md:12,xs:12,children:(0,n.jsxs)(u.Z,{fullWidth:!0,required:!0,children:[(0,n.jsx)(d.Z,{children:"Full Name"}),(0,n.jsx)(h.Z,{defaultValue:null==e?void 0:e.fullName,label:"Full name",name:"fullName"})]})}),(0,n.jsx)(f.Z,{md:12,xs:12,children:(0,n.jsxs)(u.Z,{fullWidth:!0,required:!0,children:[(0,n.jsx)(d.Z,{children:"Email address"}),(0,n.jsx)(h.Z,{defaultValue:null==e?void 0:e.email,label:"Email address",name:"email"})]})}),(0,n.jsx)(f.Z,{md:12,xs:12,children:(0,n.jsxs)(u.Z,{fullWidth:!0,required:!0,children:[(0,n.jsx)(d.Z,{children:"Role"}),(0,n.jsx)(h.Z,{disabled:!0,defaultValue:null==e?void 0:e.role,label:"Role",name:"role"})]})})]})}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(s.Z,{sx:{justifyContent:"flex-end"},children:(0,n.jsx)(o.Z,{variant:"contained",children:"Save details"})})]})})}},71908:function(e,r,t){"use strict";t.d(r,{AccountInfo:function(){return f}});var n=t(57437);t(2265);var o=t(5426),i=t(75519),s=t(76520),a=t(12204),l=t(55205),c=t(14595),u=t(81252),d=t(83719),h=t(68692);function f(){let{user:e}=(0,h.a)();return(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(l.Z,{children:(0,n.jsxs)(u.Z,{spacing:2,sx:{alignItems:"center"},children:[(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{src:null==e?void 0:e.avatarUrl,sx:{height:"80px",width:"80px"}})}),(0,n.jsx)(u.Z,{spacing:1,sx:{textAlign:"center"},children:(0,n.jsx)(d.Z,{variant:"h5",children:null==e?void 0:e.fullName})})]})}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(a.Z,{children:(0,n.jsx)(i.Z,{fullWidth:!0,variant:"text",children:"Upload picture"})})]})}},22298:function(e,r,t){"use strict";t.d(r,{S:function(){return a},UserProvider:function(){return l}});var n=t(57437),o=t(2265),i=t(93814),s=t(48727);let a=o.createContext(void 0);function l(e){let{children:r}=e,[t,l]=o.useState({user:null,error:null,isLoading:!0}),c=o.useCallback(async()=>{try{let{data:e,error:r}=await i.U.getUser();if(s.k.debug("UserProvider check session: ",{data:e,error:r}),r){s.k.error(r);return}l(r=>({...r,user:null!=e?e:null,error:null,isLoading:!1}))}catch(e){s.k.error(e),l(e=>({...e,user:null,error:"Something went wrong",isLoading:!1}))}},[]);return o.useEffect(()=>{c().catch(e=>{s.k.error(e)})},[]),(0,n.jsx)(a.Provider,{value:{...t,checkSession:c},children:r})}a.Consumer},68692:function(e,r,t){"use strict";t.d(r,{a:function(){return i}});var n=t(2265),o=t(22298);function i(){let e=n.useContext(o.S);if(!e)throw Error("useUser must be used within a UserProvider");return e}},93814:function(e,r,t){"use strict";t.d(r,{U:function(){return a}});var n=t(12833),o=t(44785),i=t(48727);class s{async signInWithOAuth(e){return{error:"Social authentication not implemented"}}async signInWithPassword(e){let{emailForm:r,password:t}=e;try{let e=(await n.Z.post("/auth/authenticate",{email:r,password:t})).data.data;i.k.debug("Sign in with password response: ",e);let{accessToken:o,refreshToken:s,fullName:a,email:l,avatar:c,role:u}=e;if("ADMIN"!==u)return{error:"You have no permission to access this pages!"};let d={fullName:a,email:l,avatarUrl:c,role:u};return localStorage.setItem("access_token",o),localStorage.setItem("refresh_token",s),localStorage.setItem("logged_user",JSON.stringify(d)),i.k.debug("User logged in: ",d),{data:d}}catch(e){return i.k.error("Sign in with password error: ",e),{error:"An unknown error occurred"}}}async resetPassword(e){return{error:"Password reset not implemented"}}async updatePassword(e){return{error:"Update reset not implemented"}}async getUser(){let e=localStorage.getItem("logged_user");return e?{data:JSON.parse(e)}:{data:null}}async signOut(){return o.Z.remove("access_token"),o.Z.remove("refresh_token"),localStorage.removeItem("logged_user"),{}}}let a=new s},48727:function(e,r,t){"use strict";let n;t.d(r,{k:function(){return h}});var o,i,s,a=t(20357);let l={ERROR:"ERROR",WARN:"WARN",DEBUG:"DEBUG",ALL:"ALL"},c={NONE:0,ERROR:1,WARN:2,DEBUG:3,ALL:4};class u{canWrite(e){return this.levelNumber>=c[e]}write(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];let o=this.prefix;this.showLevel&&(o="- ".concat(e," ").concat(o)),e===l.ERROR?console.error(o,...t):console.log(o,...t)}constructor({prefix:e="",level:r=l.ALL,showLevel:t=!0}){var n=this;this.debug=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];n.canWrite(l.DEBUG)&&n.write(l.DEBUG,...r)},this.warn=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];n.canWrite(l.WARN)&&n.write(l.WARN,...r)},this.error=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];n.canWrite(l.ERROR)&&n.write(l.ERROR,...r)},this.prefix=e,this.level=r,this.levelNumber=c[this.level],this.showLevel=t}}var d=t(20357);let h=function(){let{prefix:e,level:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new u({prefix:e,level:r})}({level:{site:{name:"Learn-X",description:"",themeColor:"#090a0b",url:n=(n=(n=null!==(i=null!==(o=a.env.NEXT_PUBLIC_SITE_URL)&&void 0!==o?o:a.env.NEXT_PUBLIC_VERCEL_URL)&&void 0!==i?i:"http://localhost:3000/").includes("http")?n:"https://".concat(n)).endsWith("/")?n:"".concat(n,"/"),logo:"./assets/utez-logo-emblem.svg"},logLevel:null!==(s=d.env.NEXT_PUBLIC_LOG_LEVEL)&&void 0!==s?s:l.ALL}.logLevel})},44785:function(e,r,t){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)e[n]=t[n]}return e}t.d(r,{Z:function(){return o}});var o=function e(r,t){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=n({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+r.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var i=t[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(n[a]=r.read(s,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,r){o(e,"",n({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,n({},this.attributes,r))},withConverter:function(r){return e(n({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[40,111,339,838,866,171,445,472,971,23,744],function(){return e(e.s=74963)}),_N_E=e.O()}]);