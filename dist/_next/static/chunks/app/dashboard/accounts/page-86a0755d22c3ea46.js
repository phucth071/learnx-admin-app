(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{16496:function(e,n,t){Promise.resolve().then(t.bind(t,18765))},18765:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r=t(57437),i=t(2265),l=t(75519),a=t(81252),s=t(83719),o=t(20440),c=t(64431),h=t(75052),d=t(76520),u=t(52326),v=t(866),x=t(54252),g=t(28549),j=t(56065),f=t(23690),p=t(11656);function Z(e){let{onFilter:n}=e,[t,l]=(0,i.useState)(""),[s,o]=(0,i.useState)("all"),[c,h]=(0,i.useState)("all");return(0,r.jsx)(d.Z,{sx:{p:2},children:(0,r.jsxs)(a.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{alignItems:"flex-end"},children:[(0,r.jsx)(v.Z,{value:t,onChange:e=>{let t=e.target.value;l(t),n(t,s,c)},placeholder:"T\xecm kiếm theo t\xean hoặc email...",startAdornment:(0,r.jsx)(u.Z,{position:"start",children:(0,r.jsx)(x.Y,{fontSize:"var(--icon-fontSize-md)"})}),sx:{maxWidth:"400px",flex:1}}),(0,r.jsxs)(g.Z,{sx:{minWidth:150},children:[(0,r.jsx)(j.Z,{children:"Vai tr\xf2"}),(0,r.jsxs)(f.Z,{value:s,onChange:e=>{let r=e.target.value;o(r),n(t,r,c)},label:"Vai tr\xf2",children:[(0,r.jsx)(p.Z,{value:"all",children:"Tất cả"}),(0,r.jsx)(p.Z,{value:"admin",children:"Quản trị vi\xean"}),(0,r.jsx)(p.Z,{value:"teacher",children:"Giảng vi\xean"}),(0,r.jsx)(p.Z,{value:"student",children:"Sinh vi\xean"})]})]}),(0,r.jsxs)(g.Z,{sx:{minWidth:150},children:[(0,r.jsx)(j.Z,{children:"Trạng th\xe1i"}),(0,r.jsxs)(f.Z,{value:c,onChange:e=>{let r=e.target.value;h(r),n(t,s,r)},label:"Trạng th\xe1i",children:[(0,r.jsx)(p.Z,{value:"all",children:"Tất cả"}),(0,r.jsx)(p.Z,{value:"active",children:"Hoạt động"}),(0,r.jsx)(p.Z,{value:"inactive",children:"Kh\xf4ng hoạt động"}),(0,r.jsx)(p.Z,{value:"pending",children:"Chờ x\xe1c thực"})]})]})]})})}var m=t(5426),w=t(51982),E=t(65786),R=t(14595),S=t(90241),L=t(46832),C=t(48367),b=t(81175),k=t(1793),N=t(72853);function A(){}function P(e){var n,t;let{count:l=0,rows:o=[],page:c=0,rowsPerPage:h=0,onPageChange:u=A,onRowsPerPageChange:v=A}=e,{selectAll:x,deselectAll:g,selectOne:j,deselectOne:f,selected:p}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,t]=i.useState(new Set);i.useEffect(()=>{t(new Set)},[e]);let r=i.useCallback(()=>{t(new Set)},[]),l=i.useCallback(e=>{t(n=>{let t=new Set(n);return t.delete(e),t})},[]),a=i.useCallback(()=>{t(new Set(e))},[e]),s=i.useCallback(e=>{t(n=>{let t=new Set(n);return t.add(e),t})},[]),o=n.size>0,c=n.size===e.length;return{deselectAll:r,deselectOne:l,selectAll:a,selectOne:s,selected:n,selectedAny:o,selectedAll:c}}(i.useMemo(()=>o.map(e=>e.id),[o])),Z=(null!==(n=null==p?void 0:p.size)&&void 0!==n?n:0)>0&&(null!==(t=null==p?void 0:p.size)&&void 0!==t?t:0)<o.length,P=o.length>0&&(null==p?void 0:p.size)===o.length;return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(w.Z,{sx:{overflowX:"auto"},children:(0,r.jsxs)(S.Z,{sx:{minWidth:"800px"},children:[(0,r.jsx)(b.Z,{children:(0,r.jsxs)(N.Z,{children:[(0,r.jsx)(C.Z,{padding:"checkbox",children:(0,r.jsx)(E.Z,{checked:P,indeterminate:Z,onChange:e=>{e.target.checked?x():g()}})}),(0,r.jsx)(C.Z,{children:"Full Name"}),(0,r.jsx)(C.Z,{children:"Email"}),(0,r.jsx)(C.Z,{children:"Role"})]})}),(0,r.jsx)(L.Z,{children:o.map(e=>{let n=null==p?void 0:p.has(e.id);return(0,r.jsxs)(N.Z,{hover:!0,selected:n,children:[(0,r.jsx)(C.Z,{padding:"checkbox",children:(0,r.jsx)(E.Z,{checked:n,onChange:n=>{n.target.checked?j(e.id):f(e.id)}})}),(0,r.jsx)(C.Z,{children:(0,r.jsxs)(a.Z,{sx:{alignItems:"center"},direction:"row",spacing:2,children:[(0,r.jsx)(m.Z,{src:e.avatarUrl}),(0,r.jsx)(s.Z,{variant:"subtitle2",children:e.fullName})]})}),(0,r.jsx)(C.Z,{children:e.email}),(0,r.jsx)(C.Z,{children:e.role})]},e.id)})})]})}),(0,r.jsx)(R.Z,{}),(0,r.jsx)(k.Z,{component:"div",count:l,onPageChange:u,onRowsPerPageChange:v,page:c,rowsPerPage:h,rowsPerPageOptions:[5,10,25]})]})}var U=t(12833),_=t(48727);function z(){let[e,n]=(0,i.useState)(0),[t,d]=(0,i.useState)(5),[u,v]=(0,i.useState)(!0),[x,g]=(0,i.useState)([]),[j,f]=(0,i.useState)([]),[p,m]=(0,i.useState)([]);(0,i.useEffect)(()=>{w()},[]),(0,i.useEffect)(()=>{m(j.slice(e*t,e*t+t))},[j,e,t]);let w=async()=>{try{v(!0);let e=await U.j.get("/user");if(200===e.status&&e.data.success){let n=e.data.data.map(E);g(n),f(n)}}catch(e){_.k.error("Error fetching accounts:",e)}finally{v(!1)}},E=e=>({id:e.id.toString(),avatarUrl:e.avatarUrl,fullName:e.fullName,email:e.email,role:({ADMIN:"Quản trị vi\xean",TEACHER:"Giảng vi\xean",STUDENT:"Sinh vi\xean"})[e.role]||e.role});return(0,r.jsxs)(a.Z,{spacing:3,children:[(0,r.jsxs)(a.Z,{direction:"row",spacing:3,children:[(0,r.jsxs)(a.Z,{spacing:1,sx:{flex:"1 1 auto"},children:[(0,r.jsx)(s.Z,{variant:"h4",children:"Quản l\xfd t\xe0i khoản"}),(0,r.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:"Quản l\xfd th\xf4ng tin t\xe0i khoản người d\xf9ng trong hệ thống LearnX"}),(0,r.jsxs)(a.Z,{direction:"row",spacing:1,sx:{alignItems:"center"},children:[(0,r.jsx)(l.Z,{color:"inherit",startIcon:(0,r.jsx)(h.g,{fontSize:"var(--icon-fontSize-md)"}),children:"Nhập dữ liệu"}),(0,r.jsx)(l.Z,{color:"inherit",startIcon:(0,r.jsx)(o.U,{fontSize:"var(--icon-fontSize-md)"}),children:"Xuất dữ liệu"})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(l.Z,{startIcon:(0,r.jsx)(c.v,{fontSize:"var(--icon-fontSize-md)"}),variant:"contained",children:"Th\xeam t\xe0i khoản"})})]}),(0,r.jsx)(Z,{onFilter:(e,t)=>{let r=x;if(e&&(r=r.filter(n=>{var t,r;return(null===(t=n.fullName)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))||(null===(r=n.email)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))})),t&&"all"!==t){let e={admin:"Quản trị vi\xean",teacher:"Giảng vi\xean",student:"Sinh vi\xean"}[t];e&&(r=r.filter(n=>n.role===e))}f(r),n(0)}}),(0,r.jsx)(P,{count:j.length,page:e,rows:p,rowsPerPage:t,onPageChange:(e,t)=>{n(t)},onRowsPerPageChange:e=>{d(parseInt(e.target.value,10)),n(0)}})]})}},12833:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var r=t(38472);n.Z=r.Z.create({baseURL:"https://learnx-spring-app-86563bbf71fb.herokuapp.com/api/v1",headers:{"Content-Type":"application/json"}});let i=r.Z.create({baseURL:"https://learnx-spring-app-86563bbf71fb.herokuapp.com/api/v1",withCredentials:!0,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let n=localStorage.getItem("access_token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e instanceof Error?e:Error(String(e))))},48727:function(e,n,t){"use strict";let r;t.d(n,{k:function(){return u}});var i,l,a,s=t(20357);let o={ERROR:"ERROR",WARN:"WARN",DEBUG:"DEBUG",ALL:"ALL"},c={NONE:0,ERROR:1,WARN:2,DEBUG:3,ALL:4};class h{canWrite(e){return this.levelNumber>=c[e]}write(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];let i=this.prefix;this.showLevel&&(i="- ".concat(e," ").concat(i)),e===o.ERROR?console.error(i,...t):console.log(i,...t)}constructor({prefix:e="",level:n=o.ALL,showLevel:t=!0}){var r=this;this.debug=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.canWrite(o.DEBUG)&&r.write(o.DEBUG,...n)},this.warn=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.canWrite(o.WARN)&&r.write(o.WARN,...n)},this.error=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.canWrite(o.ERROR)&&r.write(o.ERROR,...n)},this.prefix=e,this.level=n,this.levelNumber=c[this.level],this.showLevel=t}}var d=t(20357);let u=function(){let{prefix:e,level:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h({prefix:e,level:n})}({level:{site:{name:"Learn-X",description:"",themeColor:"#090a0b",url:r=(r=(r=null!==(l=null!==(i=s.env.NEXT_PUBLIC_SITE_URL)&&void 0!==i?i:s.env.NEXT_PUBLIC_VERCEL_URL)&&void 0!==l?l:"http://localhost:3000/").includes("http")?r:"https://".concat(r)).endsWith("/")?r:"".concat(r,"/"),logo:"./assets/utez-logo-emblem.svg"},logLevel:null!==(a=d.env.NEXT_PUBLIC_LOG_LEVEL)&&void 0!==a?a:o.ALL}.logLevel})}},function(e){e.O(0,[40,111,339,838,866,171,445,345,120,793,708,971,23,744],function(){return e(e.s=16496)}),_N_E=e.O()}]);